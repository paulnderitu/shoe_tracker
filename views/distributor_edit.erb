<h1>Update <%=@distributor.name()%> Details</h1>

 <form action="/distributors/<%= @distributor.id() %>" method="post">
   <input type="hidden" name="_method" value="patch">
   <div class="form-group">
     <label for="distributor_name">Name:</label>
     <input type="text" name="distributor_name" value="<%= @distributor.distributor_name() %>">
   </div>
   <% if @distributor.address().==("\n, ") %>
   <div class="form-group">
     <label for="city">Address:</label>
     <textarea rows='3' name="address"></textarea>
   </div>
   <% else %>
   <div class="form-group">
     <label for="address">Address:</label>
     <textarea rows='3' name="address"><%= @distributor.address() %></textarea>
   </div>
   <% end %>
   <div class="form-group">
     <label for="tel">Telphone no:</label>
     <input type="tel" name="tel" value="<%= @distributor.tel() %>">
   </div>

   <label>Current Brands:</label>
  <% if @distributor.brands.any? %>
  <ul>
    <% @distributor.brands.each() do |brand| %>
    <li><%= brand.name() %></li>
    <% end %>
  </ul>
  <% else %>
  <p>No brands assigned to this distributor currently.</p>
  <br>
  <% end %>

  <div class="form-group">
    <% if @brands.any?() %>
    <label>Add new Brands to<%= @distributor.name() %>:</label>
    <% @brands.each() do |brand| %>
    <div class="checkbox">
      <label>
        <input type="checkbox" name="brand_ids[]" value="<%= brand.id() %>"><%= brand.name() %>
      </label>
    </div>
    <% end %>
    <% end %>
  </div>
  <div class="form-group">
     <% if @distributor.brands().any?() %>
     <label>Delete Brands from <%= @distributor.name() %></label>
     <% @distributor.brands().each() do |brand| %>
     <div class="checkbox">
       <label>
         <input type="checkbox" name="remove_brand_ids[]" value="<%= brand.id()%>"><%= brand.name()%>
       </label>
     </div>
     <% end %>
     <% else %>
     <p>There are no more brands to add to <%= @distributor.name() %>
     <% end %>

   <button type="submit" class="btn">Update</button>
 </form>

 <form action="/distributors/<%= @distributor.id() %>" method="post">
   <input type="hidden" name="_method" value="delete">
   <button type="submit" class="btn">Delete  <%= @distributor.name() %> from Database</button>
 </form>

</div>
